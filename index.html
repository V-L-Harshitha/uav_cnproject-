<!DOCTYPE html>
<html>
<title>My UAV Computer Networks Project</title>
<header class="w3-container w3-center w3-padding-48 w3-white">
	
<script type="text/javascript" language="javascript">
	
	
	
	function UserAction() {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
         if (this.readyState == 4 && this.status == 200) {
             alert(this.responseText);
         }
    };
    xhttp.open("POST", "https://v-l-harshitha.github.io/uav_cnproject-/", true);
    xhttp.setRequestHeader("Content-type", "application/json");
    xhttp.send(""Id": 1,    "Name": "Myuav1",    "Quantity": 1, services": ["Roll", "Pitch","yaw","throttle"],");
}
	const userAction = async () => {
  const response = await fetch('https://v-l-harshitha.github.io/uav_cnproject-/');
  const myJson = await response.json(); //extract JSON from the http response
  // do something with myJson
}

function send()
{
    var urlvariable;

    urlvariable = "text";

    var ItemJSON;

    ItemJSON = '[  {    "Id": 1,    "Name": "Myuav1",    "Quantity": 1, services": ["Roll", "Pitch","yaw","throttle"],  }
    URL = "https://v-l-harshitha.github.io/uav_cnproject-/" + urlvariable;  //Your URL

    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = callbackFunction(xmlhttp);
    xmlhttp.open("POST", URL, false);
    xmlhttp.setRequestHeader("Content-Type", "application/json");
    xmlhttp.setRequestHeader('Authorization', 'Basic ' + window.btoa('apiusername:apiuserpassword')); //in prod, you should encrypt user name and password and provide encrypted keys here instead 
    xmlhttp.onreadystatechange = callbackFunction(xmlhttp);
    xmlhttp.send(ItemJSON);
    alert(xmlhttp.responseText);
    document.getElementById("div").innerHTML = xmlhttp.statusText + ":" + xmlhttp.status + "<BR><textarea rows='100' cols='100'>" + xmlhttp.responseText + "</textarea>";
}

function callbackFunction(xmlhttp) 
{
    //alert(xmlhttp.responseXML);
}
	
	   $("button").on("click",function(){
      //console.log("hii");
      $.ajax({
        headers:{  
           "key":"your key",
     "Accept":"application/json",//depends on your api
      "Content-type":"application/x-www-form-urlencoded"//depends on your api
        },   url:"url you need",
        success:function(response){
          var r=JSON.parse(response);
          $("#main").html(r.base);
        }
      });
});
	
	var xhttp = new XMLHttpRequest();
xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
       // Typical action to be performed when the document is ready:
        var response = xhttp.responseText;
        console.log("ok"+response);
    }
};
xhttp.open("GET", "your url", true);

xhttp.send();
	
	// Open a new connection, using the GET request on the URL endpoint
request.open('GET', 'https://v-l-harshitha.github.io/uav_cnproject-/', true)

request.onload = function () {
  // Begin accessing JSON data here
  }
}

// Send request
request.send()
</script>
	
<style>
	.button {
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
}
.button1 {background-color: #4CAF50;}
.button2 {background-color: #008CBA;}
.button3 {background-color: tomato;} 
.button4 {background-color: slateblue;}
h1 {text-align: center;}
.center {
  display: block;
  margin-left: auto;
  margin-right: auto;
  width: 50%;
}
</style>
	<body>
		<div>WOT based UAV Network [Computer Networks Project]</div><br>
		<div>V.L.Harshitha[123004265]</div>
    <h1 class="w3-xxxlarge"><b>Welcome to control your Drone from this Website</b></h1>

        <img class="center" alt="Qries" src="https://media.istockphoto.com/photos/quadcopter-drone-with-4k-video-camera-flying-in-the-air-picture-id911190112?k=20&m=911190112&s=612x612&w=0&h=6mkFfZ_h5OVzYH_b0DVaYMdMZd86Zn8MZH89gWPJN0w="
         width="50%" height="40%">
         <br>
         <h1 class="w3-xxxlarge"><b>Press the Buttons for operating the Drone!!</b></h1>
         <button class="button button1" type="submit" onclick="javascript:send()">Throttle up</button>
         <button class="button button1" type="submit" onclick="javascript:send()">Throttle down</button><br>
         <button class="button button2" type="submit" onclick="javascript:send()">Pitch Forward</button>
         <button class="button button2" type="submit" onclick="javascript:send()">Pitch Backwards</button><br>
         <button class="button button3" type="submit" onclick="javascript:send()">Roll Right</button>
         <button class="button button3" type="submit" onclick="javascript:send()">Roll Left</button><br>
         <button class="button button4" type="submit" onclick="javascript:send()">Yaw Right</button>
         <button class="button button4" type="submit" onclick="javascript:send()">Yaw Left</button>
  </header>
  </body>
</html>
